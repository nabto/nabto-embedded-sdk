{
  "Version": 1,
  "Policies": [
    {
      "Id": "Pairing",
      "Statements": [
        {
          "Effect": "Allow",
          "Actions": [
            "IAM:GetPairing",
            "IAM:PairingPasswordInvite",
            "IAM:PairingLocalOpen",
            "IAM:PairingLocalInitial"
          ]
        }
      ]
    },
    {
      "Id": "Tunnelling",
      "Statements": [
        {
          "Effect": "Allow",
          "Actions": [
            "TcpTunnel:GetService",
            "TcpTunnel:Connect",
            "TcpTunnel:ListServices"
          ]
        }
      ]
    },
    {
      "Id": "ManageUsers",
      "Statements": [
        {
          "Effect": "Allow",
          "Actions": [
            "IAM:ListUsers",
            "IAM:GetUser",
            "IAM:DeleteUser",
            "IAM:SetUserRole",
            "IAM:ListRoles",
            "IAM:CreateUser",
            "IAM:SetUserPassword",
            "IAM:SetUserFriendlyName"
          ]
        }
      ]
    },
    {
      "Id": "ManageOwnUser",
      "Statements": [
        {
          "Effect": "Allow",
          "Actions": [
            "IAM:GetUser",
            "IAM:DeleteUser",
            "IAM:SetUserFriendlyName"
          ],
          "Conditions": [
            {
              "StringEquals": {
                "IAM:Username": [
                  "${Connection:Username}"
                ]
              }
            }
          ]
        },
        {
          "Effect": "Allow",
          "Actions": [
            "IAM:ListRoles"
          ]
        }
      ]
    }
  ],
  "Roles": [
    {
      "Id": "Unpaired",
      "Policies": [
        "Pairing"
      ]
    },
    {
      "Id": "Administrator",
      "Policies": [
        "ManageUsers",
        "Tunnelling",
        "Pairing"
      ]
    },
    {
      "Id": "Standard",
      "Policies": [
        "Tunnelling",
        "Pairing",
        "ManageOwnUser"
      ]
    },
    {
      "Id": "Guest",
      "Policies": [
        "Pairing",
        "ManageOwnUser"
      ]
    }
  ],
  "Config": {
    "UnpairedRole": "Unpaired",
    "SecondaryUserRole": "Guest",
    "InitialUserUsername": "admin"
  }
}
